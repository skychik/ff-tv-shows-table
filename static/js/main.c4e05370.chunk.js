(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{22:function(e,t,n){e.exports=n(33)},31:function(e,t,n){},32:function(e,t,n){},33:function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"REQUEST_SHOWS",function(){return E}),n.d(r,"RECEIVE_SHOWS",function(){return m}),n.d(r,"REQUEST_POSTER_INFO",function(){return b}),n.d(r,"RECEIVE_POSTER_INFO",function(){return O}),n.d(r,"RECEIVE_PAGINATION_INFO",function(){return v}),n.d(r,"fetchShows",function(){return g}),n.d(r,"requestShows",function(){return w}),n.d(r,"receiveShows",function(){return I}),n.d(r,"receivePaginationInfo",function(){return j}),n.d(r,"fetchPosterInfo",function(){return y}),n.d(r,"requestPosterInfo",function(){return C}),n.d(r,"receivePosterInfo",function(){return S});var o=n(0),a=n.n(o),u=n(6),c=n(1),i=n(3),l=n(5),s=n(16),d=n.n(s),f="1098aa9283a45930885916b98e046d43cd7301e4de4198c5e624aa39b5cd6972",p="313966685b1712ca5f9c4c15427da38d",h="4a2226e35da3b653ed9d980ae3efb5f8",E="REQUEST_SHOWS",m="RECEIVE_SHOWS",b="REQUEST_POSTER_INFO",O="RECEIVE_POSTER_INFO",v="RECEIVE_PAGINATION_INFO";function g(e,t){return function(n){n(w());var r="https://api.trakt.tv/shows/popular?page="+e+"&limit="+t,o={headers:{"Content-Type":"application/json","trakt-api-version":"2","trakt-api-key":f}};return d()(r,o).then(function(e){var t=e.headers.get("X-Pagination-Page-Count"),r=e.headers.get("X-Pagination-Item-Count");return n(j(t,r)),e.json()}).then(function(e){n(I(e)),e.map(function(e){return n(y(e.ids.tvdb))})})}}function w(){return{type:E}}function I(e){return{type:m,shows:e}}function j(e,t){return{type:v,pageCount:e,itemCount:t}}function y(e){return console.log("sd"),function(t){t(C(e));var n="https://webservice.fanart.tv/v3/tv/"+e+"?api_key="+h+"&client_key="+p;return d()(n,{headers:{}}).then(function(e){return e.json()}).then(function(n){return t(S(n,e))})}}function C(e){return{type:b,posterId:e}}function S(e,t){return{type:O,info:e,posterId:t}}var P=Object(c.combineReducers)({shows:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E:return e;case m:console.log(t.shows);var n=0;return Object(l.a)({},e,{info:t.shows.map(function(e){return{id:n++,title:e.title,year:e.year,posterId:e.ids.tvdb}}),infoFetched:!0});case v:return Object(l.a)({},e,{pageCount:t.pageCount,itemCount:t.itemCount});case O:return Object(l.a)({},e,{info:e.info.map(function(e){return e.posterId===t.posterId?Object(l.a)({},e,{posterUrl:(n=t.info,n.clearlogo?n.clearlogo instanceof Array?n.clearlogo[0].url:n.clearlogo.url:n.hdtvlogo?n.hdtvlogo instanceof Array?n.hdtvlogo[0].url:n.hdtvlogo.url:null)}):e;var n})})}return e}}),_=(n(31),n(8)),N=n(9),R=n(11),T=n(10),k=n(12),F=(n(32),function(e){function t(){return Object(_.a)(this,t),Object(R.a)(this,Object(T.a)(t).apply(this,arguments))}return Object(k.a)(t,e),Object(N.a)(t,[{key:"render",value:function(){var e=this.props.shows,t=e&&e.info&&e.info.map(function(e){return a.a.createElement("tr",{key:e.id},a.a.createElement("td",null,e.id),a.a.createElement("td",null,e.title),a.a.createElement("td",null,e.year),a.a.createElement("td",null,e.posterUrl?a.a.createElement("img",{src:e.posterUrl,alt:e.title+" poster"}):""))});return a.a.createElement("div",{className:"Table"},a.a.createElement("table",null,a.a.createElement("thead",null,a.a.createElement("tr",null,a.a.createElement("td",null,"ID"),a.a.createElement("td",null,"Title"),a.a.createElement("td",null,"Year"),a.a.createElement("td",null,"Poster"))),a.a.createElement("tbody",null,t)))}}]),t}(a.a.Component)),A=Object(i.b)(function(e){return{shows:e.shows}},function(e){return Object(c.bindActionCreators)(r,e)})(F),U=function(e){function t(){return Object(_.a)(this,t),Object(R.a)(this,Object(T.a)(t).apply(this,arguments))}return Object(k.a)(t,e),Object(N.a)(t,[{key:"componentWillMount",value:function(){var e=this.props.shows;e&&!1===e.infoFetched&&this.props.fetchShows(e.pageNumber,e.itemsPerPage)}},{key:"render",value:function(){var e=this.props.shows,t=a.a.createElement("div",null,a.a.createElement("p",null,"TV-shows displayed: ",e.itemsPerPage,". Page ",e.pageNumber," of ",e.pageCount),a.a.createElement("p",null,"Shows in total: ",e.itemCount));return a.a.createElement("div",{className:"App"},a.a.createElement(A,null),e.infoFetched?t:null)}}]),t}(a.a.Component),V=Object(i.b)(function(e){return{shows:e.shows}},function(e){return Object(c.bindActionCreators)(r,e)})(U),W={shows:{info:[],infoFetched:!1,pageCount:null,itemCount:null,pageNumber:1,itemsPerPage:10}},H=n(20),Q=n(21),q=Object(c.createStore)(P,W,Object(H.composeWithDevTools)(Object(c.applyMiddleware)(Q.a)));Object(u.render)(a.a.createElement(i.a,{store:q},a.a.createElement(V,null)),document.getElementById("root"))}},[[22,1,2]]]);
//# sourceMappingURL=main.c4e05370.chunk.js.map