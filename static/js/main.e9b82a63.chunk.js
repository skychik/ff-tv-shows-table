(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{22:function(e,t,n){e.exports=n(33)},31:function(e,t,n){},32:function(e,t,n){},33:function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"REQUEST_SHOWS",function(){return E}),n.d(r,"RECEIVE_SHOWS",function(){return b}),n.d(r,"REQUEST_POSTER_INFO",function(){return m}),n.d(r,"RECEIVE_POSTER_INFO",function(){return O}),n.d(r,"fetchShows",function(){return v}),n.d(r,"requestShows",function(){return w}),n.d(r,"receiveShows",function(){return j}),n.d(r,"fetchPosterInfo",function(){return y}),n.d(r,"requestPosterInfo",function(){return S}),n.d(r,"receivePosterInfo",function(){return I});var o=n(0),a=n.n(o),c=n(5),u=n(1),i=n(3),l=n(16),s=n(15),d=n.n(s),f="1098aa9283a45930885916b98e046d43cd7301e4de4198c5e624aa39b5cd6972",p="313966685b1712ca5f9c4c15427da38d",h="4a2226e35da3b653ed9d980ae3efb5f8",E="REQUEST_SHOWS",b="RECEIVE_SHOWS",m="REQUEST_POSTER_INFO",O="RECEIVE_POSTER_INFO";function v(){return function(e){e(w());var t={headers:{"Content-Type":"application/json","trakt-api-version":"2","trakt-api-key":f}};return d()("https://api.trakt.tv/shows/popular",t).then(function(e){return e.json()}).then(function(t){e(j(t)),t.map(function(t){return e(y(t.ids.tvdb))})})}}function w(){return{type:E}}function j(e){return{type:b,shows:e}}function y(e){return console.log("sd"),function(t){t(S(e));var n="https://webservice.fanart.tv/v3/tv/"+e+"?api_key="+h+"&client_key="+p;return d()(n,{headers:{}}).then(function(e){return e.json()}).then(function(n){return t(I(n,e))})}}function S(e){return{type:m,posterId:e}}function I(e,t){return{type:O,info:e,posterId:t}}var g=Object(u.combineReducers)({shows:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E:return{info:[],infoFetched:!1};case b:console.log(t.shows);var n=0;return{info:t.shows.map(function(e){return{id:n++,title:e.title,year:e.year,posterId:e.ids.tvdb}}),infoFetched:!0};case O:return Object(l.a)({},e,{info:e.info.map(function(e){return e.posterId===t.posterId?Object(l.a)({},e,{posterUrl:(n=t.info,n.clearlogo?n.clearlogo instanceof Array?n.clearlogo[0].url:n.clearlogo.url:n.hdtvlogo?n.hdtvlogo instanceof Array?n.hdtvlogo[0].url:n.hdtvlogo.url:null)}):e;var n})})}return e}}),_=(n(31),n(7)),R=n(8),k=n(10),T=n(9),C=n(11),F=(n(32),function(e){function t(){return Object(_.a)(this,t),Object(k.a)(this,Object(T.a)(t).apply(this,arguments))}return Object(C.a)(t,e),Object(R.a)(t,[{key:"render",value:function(){var e=this.props.shows,t=e&&e.info&&e.info.map(function(e){return a.a.createElement("tr",{key:e.id},a.a.createElement("td",null,e.id),a.a.createElement("td",null,e.title),a.a.createElement("td",null,e.year),a.a.createElement("td",null,e.posterUrl?a.a.createElement("img",{src:e.posterUrl,alt:e.title+" poster"}):""))});return a.a.createElement("div",{className:"Table"},a.a.createElement("table",null,a.a.createElement("thead",null,a.a.createElement("tr",null,a.a.createElement("td",null,"ID"),a.a.createElement("td",null,"Title"),a.a.createElement("td",null,"Year"),a.a.createElement("td",null,"Poster"))),a.a.createElement("tbody",null,t)))}}]),t}(a.a.Component)),P=Object(i.b)(function(e){return{shows:e.shows}},function(e){return Object(u.bindActionCreators)(r,e)})(F),U=function(e){function t(){return Object(_.a)(this,t),Object(k.a)(this,Object(T.a)(t).apply(this,arguments))}return Object(C.a)(t,e),Object(R.a)(t,[{key:"componentWillMount",value:function(){var e=this.props.shows;e&&!1===e.infoFetched&&this.props.fetchShows()}},{key:"render",value:function(){return a.a.createElement("div",{className:"App"},a.a.createElement(P,null))}}]),t}(a.a.Component),N=Object(i.b)(function(e){return{shows:e.shows}},function(e){return Object(u.bindActionCreators)(r,e)})(U),W={shows:{info:[],infoFetched:!1}},A=n(20),H=n(21),Q=Object(u.createStore)(g,W,Object(A.composeWithDevTools)(Object(u.applyMiddleware)(H.a)));Object(c.render)(a.a.createElement(i.a,{store:Q},a.a.createElement(N,null)),document.getElementById("root"))}},[[22,1,2]]]);
//# sourceMappingURL=main.e9b82a63.chunk.js.map